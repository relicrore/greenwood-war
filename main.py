class ActionKind(Enum):
    Walking = 0
    Idle = 1
    Jumping = 2
@namespace
class SpriteKind:
    EnemyHitbox = SpriteKind.create()
    Pinecone = SpriteKind.create()
    Dead = SpriteKind.create()
    Image = SpriteKind.create()

def on_status_reached_comparison_lte_type_fixed(status):
    extraEffects.create_spread_effect_on_anchor(status.sprite_attached_to(),
        extraEffects.create_custom_spread_effect_data([5, 12, 15],
            False,
            extraEffects.create_preset_size_table(ExtraEffectPresetShape.EXPLOSION),
            extraEffects.create_percentage_range(0, 50),
            extraEffects.create_percentage_range(0, 100),
            extraEffects.create_time_range(500, 1000)),
        1000,
        50,
        50)
    sprites.destroy(status.sprite_attached_to())
    sprites.destroy(sprites.read_data_sprite(status.sprite_attached_to(), "image"))
    info.change_score_by(-1)
statusbars.on_status_reached(StatusBarKind.enemy_health,
    statusbars.StatusComparison.LTE,
    statusbars.ComparisonType.FIXED,
    0,
    on_status_reached_comparison_lte_type_fixed)

def LevelSetup():
    global Aquifer, PlayerHitbox, PlayerHealth, OilHitbox, OilSwordsmanNPC, OilHealth
    if lvl == 0:
        scroller.set_layer_image(scroller.BackgroundLayer.LAYER0,
            assets.image("""
                Pale Hail Forest Layer 0
                """))
        scroller.scroll_background_with_speed(-5, 0, scroller.BackgroundLayer.LAYER0)
        scroller.set_layer_image(scroller.BackgroundLayer.LAYER1,
            assets.image("""
                Pale Hail Forest layer 1
                """))
        scroller.set_camera_scrolling_multipliers(0.1, 0, scroller.BackgroundLayer.LAYER1)
        scroller.set_layer_image(scroller.BackgroundLayer.LAYER2,
            assets.image("""
                Pale Hail Forest layer 2
                """))
        scroller.set_camera_scrolling_multipliers(0.25, 0, scroller.BackgroundLayer.LAYER2)
        tiles.set_current_tilemap(tilemap("""
            Pale Hail Forest PT 1
            """))
        
        def on_background():
            Cold_Hearted_Pale_Hail_Forest()
        timer.background(on_background)
        
    else:
        pass
    Aquifer = sprites.create(assets.image("""
            AquiferHitbox
            """),
        SpriteKind.Image)
    Aquifer.set_flag(SpriteFlag.GHOST_THROUGH_WALLS, True)
    PlayerHitbox = sprites.create(assets.image("""
            AquiferHitbox
            """),
        SpriteKind.player)
    PlayerHitbox.set_flag(SpriteFlag.INVISIBLE, True)
    PlayerHealth = statusbars.create(60, 8, StatusBarKind.health)
    PlayerHealth.max = 20
    PlayerHealth.set_color(2, 15)
    PlayerHealth.set_bar_border(1, 15)
    PlayerHealth.set_label("VIGOR", 15)
    PlayerHealth.set_position(80, 15)
    basics.add_gravity_to(PlayerHitbox)
    scene.camera_follow_sprite(PlayerHitbox)
    controller.move_sprite(PlayerHitbox, 100, 0)
    for value in tiles.get_tiles_by_type(assets.tile("""
        Oil Swordsman Spawner
        """)):
        OilHitbox = sprites.create(assets.image("""
                OilSwordsmanHitbox
                """),
            SpriteKind.EnemyHitbox)
        OilHitbox.set_flag(SpriteFlag.INVISIBLE, True)
        OilSwordsmanNPC = sprites.create(assets.image("""
                OilSwordsmanHitbox
                """),
            SpriteKind.enemy)
        sprites.set_data_sprite(OilHitbox, "image", OilSwordsmanNPC)
        OilSwordsmanNPC.set_flag(SpriteFlag.GHOST_THROUGH_WALLS, True)
        tiles.place_on_tile(OilHitbox, value)
        tiles.set_tile_at(value, assets.tile("""
            transparency16
            """))
        basics.add_gravity_to(OilHitbox)
        OilHealth = statusbars.create(15, 4, StatusBarKind.enemy_health)
        OilHealth.set_color(12, 15)
        OilHealth.set_bar_border(1, 15)
        OilHealth.max = 3
        OilHealth.attach_to_sprite(OilHitbox)
        info.change_score_by(1)

def on_b_pressed():
    global Pinecone2
    if characterAnimations.matches_rule(Aquifer, characterAnimations.rule(Predicate.FACING_RIGHT)):
        Pinecone2 = sprites.create_projectile_from_sprite(assets.image("""
                PineconeRight
                """),
            PlayerHitbox,
            100,
            -190)
        Pinecone2.set_flag(SpriteFlag.AUTO_DESTROY, False)
        Pinecone2.set_kind(SpriteKind.Pinecone)
        basics.add_gravity_to(Pinecone2)
    elif characterAnimations.matches_rule(Aquifer, characterAnimations.rule(Predicate.FACING_LEFT)):
        Pinecone2 = sprites.create_projectile_from_sprite(assets.image("""
                PineconeLeft
                """),
            PlayerHitbox,
            -80,
            -190)
        Pinecone2.set_flag(SpriteFlag.AUTO_DESTROY, False)
        Pinecone2.set_kind(SpriteKind.Pinecone)
        basics.add_gravity_to(Pinecone2)
controller.B.on_event(ControllerButtonEvent.PRESSED, on_b_pressed)

def on_a_pressed():
    if Jumpossibility == True:
        basics.make_sprite_jump(PlayerHitbox, 190)
controller.A.on_event(ControllerButtonEvent.PRESSED, on_a_pressed)

def on_wall_stop_hitting(sprite):
    basics.make_sprite_jump(sprite, 190)
events.wall_event(SpriteKind.EnemyHitbox,
    events.simple_wall_condition(events.WallFlag.BOTTOM),
    events.WallEvent.STOP_HITTING,
    on_wall_stop_hitting)

def on_on_overlap(sprite2, otherSprite):
    sprites.destroy(sprite2)
    basics.make_sprite_jump(otherSprite, 190)
    if characterAnimations.matches_rule(otherSprite, characterAnimations.rule(Predicate.FACING_LEFT)):
        otherSprite.vx = 80
        
        def on_after():
            otherSprite.vx = 0
        timer.after(500, on_after)
        
    elif characterAnimations.matches_rule(otherSprite,
        characterAnimations.rule(Predicate.FACING_RIGHT)):
        otherSprite.vx = -80
        
        def on_after2():
            otherSprite.vx = 0
        timer.after(500, on_after2)
        
    statusbars.get_status_bar_attached_to(StatusBarKind.enemy_health, otherSprite).value += -1
sprites.on_overlap(SpriteKind.Pinecone, SpriteKind.EnemyHitbox, on_on_overlap)

def on_sprite_start_overlapping(sprite3, otherSprite2):
    global Jumpossibility
    Aquifer.set_kind(SpriteKind.Dead)
    sprite3.set_kind(SpriteKind.Dead)
    characterAnimations.set_character_animations_enabled(Aquifer, False)
    animation.run_image_animation(Aquifer,
        assets.animation("""
            Aquifer freeze
            """),
        100,
        False)
    sprites.destroy(otherSprite2)
    controller.move_sprite(PlayerHitbox, 0, 0)
    Jumpossibility = False
    
    def on_after3():
        global Jumpossibility
        Jumpossibility = True
        controller.move_sprite(PlayerHitbox, 100, 0)
        characterAnimations.set_character_animations_enabled(Aquifer, True)
        Aquifer.set_kind(SpriteKind.player)
        sprite3.set_kind(SpriteKind.player)
    timer.after(2500, on_after3)
    
events.sprite_event(SpriteKind.player,
    SpriteKind.projectile,
    events.SpriteEvent.START_OVERLAPPING,
    on_sprite_start_overlapping)

def Cold_Hearted_Pale_Hail_Forest():
    music.play(music.create_song(hex("""
            0078000408020305001c000f0a006400f4010a0000040000000000000000000000000000000002600000000400011404000800011408000c0001140c001000011410001400011414001800011418001c0001141c002000011420002400011424002800011428002c0001142c003000011430003400011434003800011438003c0001143c004000011407001c00020a006400f401640000040000000000000000000000000000000003600000000400012004000800012708000c0001250c00100001a310001400012514001800012718001c0001251c00200001a32000240001222400280001a328002c0001252c00300001273000340001253400380001a338003c0001223c00400001a309010e02026400000403780000040a000301000000640001c80000040100000000640001640000040100000000fa0004af00000401c80000040a00019600000414000501006400140005010000002c0104dc00000401fa0000040a0001c8000004140005d0076400140005d0070000c800029001f40105c201f4010a0005900114001400039001000005c201f4010500058403050032000584030000fa00049001000005c201f4010500058403c80032000584030500640005840300009001049001000005c201f4010500058403c80064000584030500c8000584030000f40105ac0d000404a00f00000a0004ac0d2003010004a00f0000280004ac0d9001010004a00f0000280002d00700040408070f0064000408070000c80003c800c8000e7d00c80019000e64000f0032000e78000000fa00032c01c8000ee100c80019000ec8000f0032000edc000000fa0003f401c8000ea901c80019000e90010f0032000ea4010000fa0001c8000004014b000000c800012c01000401c8000000c8000190010004012c010000c80002c800000404c8000f0064000496000000c80002c2010004045e010f006400042c010000640002c409000404c4096400960004f6090000f40102b80b000404b80b64002c0104f40b0000f401022003000004200300040a000420030000ea01029001000004900100040a000490010000900102d007000410d0076400960010d0070000c80030000400050001040c000d0001041400150001041c001d0001042400250001042c002d0001043400350001043c003d000104
            """)),
        music.PlaybackMode.UNTIL_DONE)
    for index in range(3):
        music.play(music.create_song(hex("""
                0078000408020305001c000f0a006400f4010a0000040000000000000000000000000000000002600000000400011404000800011408000c0001140c001000011410001400011414001800011418001c0001141c002000011420002400011424002800011428002c0001142c003000011430003400011434003800011438003c0001143c004000011407001c00020a006400f401640000040000000000000000000000000000000003600000000400012004000800012208000c0001a30c001000012510001400012714001800012518001c0001a31c00200001222000240001a324002800012528002c0001272c00300001253000340001a334003800012238003c0001a33c004000012509010e02026400000403780000040a000301000000640001c80000040100000000640001640000040100000000fa0004af00000401c80000040a00019600000414000501006400140005010000002c0104dc00000401fa0000040a0001c8000004140005d0076400140005d0070000c800029001f40105c201f4010a0005900114001400039001000005c201f4010500058403050032000584030000fa00049001000005c201f4010500058403c80032000584030500640005840300009001049001000005c201f4010500058403c80064000584030500c8000584030000f40105ac0d000404a00f00000a0004ac0d2003010004a00f0000280004ac0d9001010004a00f0000280002d00700040408070f0064000408070000c80003c800c8000e7d00c80019000e64000f0032000e78000000fa00032c01c8000ee100c80019000ec8000f0032000edc000000fa0003f401c8000ea901c80019000e90010f0032000ea4010000fa0001c8000004014b000000c800012c01000401c8000000c8000190010004012c010000c80002c800000404c8000f0064000496000000c80002c2010004045e010f006400042c010000640002c409000404c4096400960004f6090000f40102b80b000404b80b64002c0104f40b0000f401022003000004200300040a000420030000ea01029001000004900100040a000490010000900102d007000410d0076400960010d0070000c80030000400050001040c000d0001041400150001041c001d0001042400250001042c002d0001043400350001043c003d000104
                """)),
            music.PlaybackMode.UNTIL_DONE)
    music.play(music.create_song(hex("""
            0078000408020305001c000f0a006400f4010a0000040000000000000000000000000000000002680000000400011404000800011408000c0001140c001000011410001400011414001800011418001c0001141c00200001142000240002141b2400280002141b28002c0002141b2c00300002141b3000340002141b3400380002141b38003c0002141b3c00400002141b07001c00020a006400f4016400000400000000000000000000000000000000030e00000020000220272000400002202709010e02026400000403780000040a000301000000640001c80000040100000000640001640000040100000000fa0004af00000401c80000040a00019600000414000501006400140005010000002c0104dc00000401fa0000040a0001c8000004140005d0076400140005d0070000c800029001f40105c201f4010a0005900114001400039001000005c201f4010500058403050032000584030000fa00049001000005c201f4010500058403c80032000584030500640005840300009001049001000005c201f4010500058403c80064000584030500c8000584030000f40105ac0d000404a00f00000a0004ac0d2003010004a00f0000280004ac0d9001010004a00f0000280002d00700040408070f0064000408070000c80003c800c8000e7d00c80019000e64000f0032000e78000000fa00032c01c8000ee100c80019000ec8000f0032000edc000000fa0003f401c8000ea901c80019000e90010f0032000ea4010000fa0001c8000004014b000000c800012c01000401c8000000c8000190010004012c010000c80002c800000404c8000f0064000496000000c80002c2010004045e010f006400042c010000640002c409000404c4096400960004f6090000f40102b80b000404b80b64002c0104f40b0000f401022003000004200300040a000420030000ea01029001000004900100040a000490010000900102d007000410d0076400960010d0070000c80030000400050001040c000d0001041400150001041c001d0001042400250001042c002d0001043400350001043c003d000104
            """)),
        music.PlaybackMode.UNTIL_DONE)
    for index2 in range(2):
        music.play(music.create_song(hex("""
                0078000408020501001c000f05001202c102c2010004050028000000640028000314000602000460000000040001a304000800012508000c0001a30c00100001251000140001a314001800012518001c0001a31c00200001222000240001a324002800012528002c0001a32c00300001223000340001a334003800012538003c0001a33c004000012203001c0001dc00690000045e010004000000000000000000000564000104000360000000040001a304000800012508000c0001a30c00100001251000140001a314001800012518001c0001a31c00200001222000240001a324002800012528002c0001a32c00300001223000340001a334003800012538003c0001a33c004000012205001c000f0a006400f4010a000004000000000000000000000000000000000270000000040002141b0400080002141b08000c0002141b0c00100002141b1000140002141b1400180002141b18001c0002141b1c00200002141b2000240002141b2400280002141b28002c0002141b2c00300002141b3000340002141b3400380002141b38003c0002141b3c00400002141b07001c00020a006400f4016400000400000000000000000000000000000000030e00000020000220272000400002202709010e02026400000403780000040a000301000000640001c80000040100000000640001640000040100000000fa0004af00000401c80000040a00019600000414000501006400140005010000002c0104dc00000401fa0000040a0001c8000004140005d0076400140005d0070000c800029001f40105c201f4010a0005900114001400039001000005c201f4010500058403050032000584030000fa00049001000005c201f4010500058403c80032000584030500640005840300009001049001000005c201f4010500058403c80064000584030500c8000584030000f40105ac0d000404a00f00000a0004ac0d2003010004a00f0000280004ac0d9001010004a00f0000280002d00700040408070f0064000408070000c80003c800c8000e7d00c80019000e64000f0032000e78000000fa00032c01c8000ee100c80019000ec8000f0032000edc000000fa0003f401c8000ea901c80019000e90010f0032000ea4010000fa0001c8000004014b000000c800012c01000401c8000000c8000190010004012c010000c80002c800000404c8000f0064000496000000c80002c2010004045e010f006400042c010000640002c409000404c4096400960004f6090000f40102b80b000404b80b64002c0104f40b0000f401022003000004200300040a000420030000ea01029001000004900100040a000490010000900102d007000410d0076400960010d0070000c80030000400050001040c000d0001041400150001041c001d0001042400250001042c002d0001043400350001043c003d000104
                """)),
            music.PlaybackMode.UNTIL_DONE)
        music.play(music.create_song(hex("""
                0078000408020501001c000f05001202c102c2010004050028000000640028000314000602000460000000040001a304000800012508000c0001a30c00100001251000140001a314001800012518001c0001a31c00200001222000240001a324002800012528002c0001a32c00300001223000340001a334003800012538003c0001a33c004000012503001c0001dc00690000045e010004000000000000000000000564000104000360000000040001a304000800012508000c0001a30c00100001251000140001a314001800012518001c0001a31c00200001222000240001a324002800012528002c0001a32c00300001223000340001a334003800012538003c0001a33c004000012505001c000f0a006400f4010a000004000000000000000000000000000000000270000000040002141b0400080002141b08000c0002141b0c00100002141b1000140002141b1400180002141b18001c0002141b1c00200002141b2000240002141b2400280002141b28002c0002141b2c00300002141b3000340002141b3400380002141b38003c0002141b3c00400002141b07001c00020a006400f4016400000400000000000000000000000000000000030e00000020000220272000400002202709010e02026400000403780000040a000301000000640001c80000040100000000640001640000040100000000fa0004af00000401c80000040a00019600000414000501006400140005010000002c0104dc00000401fa0000040a0001c8000004140005d0076400140005d0070000c800029001f40105c201f4010a0005900114001400039001000005c201f4010500058403050032000584030000fa00049001000005c201f4010500058403c80032000584030500640005840300009001049001000005c201f4010500058403c80064000584030500c8000584030000f40105ac0d000404a00f00000a0004ac0d2003010004a00f0000280004ac0d9001010004a00f0000280002d00700040408070f0064000408070000c80003c800c8000e7d00c80019000e64000f0032000e78000000fa00032c01c8000ee100c80019000ec8000f0032000edc000000fa0003f401c8000ea901c80019000e90010f0032000ea4010000fa0001c8000004014b000000c800012c01000401c8000000c8000190010004012c010000c80002c800000404c8000f0064000496000000c80002c2010004045e010f006400042c010000640002c409000404c4096400960004f6090000f40102b80b000404b80b64002c0104f40b0000f401022003000004200300040a000420030000ea01029001000004900100040a000490010000900102d007000410d0076400960010d0070000c80030000400050001040c000d0001041400150001041c001d0001042400250001042c002d0001043400350001043c003d000104
                """)),
            music.PlaybackMode.UNTIL_DONE)
    for index3 in range(2):
        music.play(music.create_song(hex("""
                0078000408020305001c000f0a006400f4010a000004000000000000000000000000000000000270000000040002141b0400080002141b08000c0002141b0c00100002141b1000140002141b1400180002141b18001c0002141b1c00200002141b2000240002141b2400280002141b28002c0002141b2c00300002141b3000340002141b3400380002141b38003c0002141b3c00400002141b07001c00020a006400f4016400000400000000000000000000000000000000030e00000020000220a82000400002202a09010e02026400000403780000040a000301000000640001c80000040100000000640001640000040100000000fa0004af00000401c80000040a00019600000414000501006400140005010000002c0104dc00000401fa0000040a0001c8000004140005d0076400140005d0070000c800029001f40105c201f4010a0005900114001400039001000005c201f4010500058403050032000584030000fa00049001000005c201f4010500058403c80032000584030500640005840300009001049001000005c201f4010500058403c80064000584030500c8000584030000f40105ac0d000404a00f00000a0004ac0d2003010004a00f0000280004ac0d9001010004a00f0000280002d00700040408070f0064000408070000c80003c800c8000e7d00c80019000e64000f0032000e78000000fa00032c01c8000ee100c80019000ec8000f0032000edc000000fa0003f401c8000ea901c80019000e90010f0032000ea4010000fa0001c8000004014b000000c800012c01000401c8000000c8000190010004012c010000c80002c800000404c8000f0064000496000000c80002c2010004045e010f006400042c010000640002c409000404c4096400960004f6090000f40102b80b000404b80b64002c0104f40b0000f401022003000004200300040a000420030000ea01029001000004900100040a000490010000900102d007000410d0076400960010d0070000c80030000400050001040c000d0001041400150001041c001d0001042400250001042c002d0001043400350001043c003d000104
                """)),
            music.PlaybackMode.UNTIL_DONE)
        music.play(music.create_song(hex("""
                0078000408020305001c000f0a006400f4010a000004000000000000000000000000000000000270000000040002141b0400080002141b08000c0002141b0c00100002141b1000140002141b1400180002141b18001c0002141b1c00200002141b2000240002141b2400280002141b28002c0002141b2c00300002141b3000340002141b3400380002141b38003c0002141b3c00400002141b07001c00020a006400f4016400000400000000000000000000000000000000030e0000002000022027200040000220a609010e02026400000403780000040a000301000000640001c80000040100000000640001640000040100000000fa0004af00000401c80000040a00019600000414000501006400140005010000002c0104dc00000401fa0000040a0001c8000004140005d0076400140005d0070000c800029001f40105c201f4010a0005900114001400039001000005c201f4010500058403050032000584030000fa00049001000005c201f4010500058403c80032000584030500640005840300009001049001000005c201f4010500058403c80064000584030500c8000584030000f40105ac0d000404a00f00000a0004ac0d2003010004a00f0000280004ac0d9001010004a00f0000280002d00700040408070f0064000408070000c80003c800c8000e7d00c80019000e64000f0032000e78000000fa00032c01c8000ee100c80019000ec8000f0032000edc000000fa0003f401c8000ea901c80019000e90010f0032000ea4010000fa0001c8000004014b000000c800012c01000401c8000000c8000190010004012c010000c80002c800000404c8000f0064000496000000c80002c2010004045e010f006400042c010000640002c409000404c4096400960004f6090000f40102b80b000404b80b64002c0104f40b0000f401022003000004200300040a000420030000ea01029001000004900100040a000490010000900102d007000410d0076400960010d0070000c80030000400050001040c000d0001041400150001041c001d0001042400250001042c002d0001043400350001043c003d000104
                """)),
            music.PlaybackMode.UNTIL_DONE)
    for index4 in range(2):
        music.play(music.create_song(hex("""
                0078000408020501001c000f05001202c102c2010004050028000000640028000314000602000460000000040001a304000800012508000c0001a30c00100001251000140001a314001800012518001c0001a31c00200001222000240001a324002800012528002c0001a32c00300001223000340001a334003800012538003c0001a33c004000012203001c0001dc00690000045e010004000000000000000000000564000104000360000000040001a304000800012508000c0001a30c00100001251000140001a314001800012518001c0001a31c00200001222000240001a324002800012528002c0001a32c00300001223000340001a334003800012538003c0001a33c004000012205001c000f0a006400f4010a000004000000000000000000000000000000000270000000040002141b0400080002141b08000c0002141b0c00100002141b1000140002141b1400180002141b18001c0002141b1c00200002141b2000240002141b2400280002141b28002c0002141b2c00300002141b3000340002141b3400380002141b38003c0002141b3c00400002141b07001c00020a006400f4016400000400000000000000000000000000000000030e00000020000220272000400002202709010e02026400000403780000040a000301000000640001c80000040100000000640001640000040100000000fa0004af00000401c80000040a00019600000414000501006400140005010000002c0104dc00000401fa0000040a0001c8000004140005d0076400140005d0070000c800029001f40105c201f4010a0005900114001400039001000005c201f4010500058403050032000584030000fa00049001000005c201f4010500058403c80032000584030500640005840300009001049001000005c201f4010500058403c80064000584030500c8000584030000f40105ac0d000404a00f00000a0004ac0d2003010004a00f0000280004ac0d9001010004a00f0000280002d00700040408070f0064000408070000c80003c800c8000e7d00c80019000e64000f0032000e78000000fa00032c01c8000ee100c80019000ec8000f0032000edc000000fa0003f401c8000ea901c80019000e90010f0032000ea4010000fa0001c8000004014b000000c800012c01000401c8000000c8000190010004012c010000c80002c800000404c8000f0064000496000000c80002c2010004045e010f006400042c010000640002c409000404c4096400960004f6090000f40102b80b000404b80b64002c0104f40b0000f401022003000004200300040a000420030000ea01029001000004900100040a000490010000900102d007000410d0076400960010d0070000c80030000400050001040c000d0001041400150001041c001d0001042400250001042c002d0001043400350001043c003d000104
                """)),
            music.PlaybackMode.UNTIL_DONE)
        music.play(music.create_song(hex("""
                0078000408020501001c000f05001202c102c2010004050028000000640028000314000602000460000000040001a304000800012508000c0001a30c00100001251000140001a314001800012518001c0001a31c00200001222000240001a324002800012528002c0001a32c00300001223000340001a334003800012538003c0001a33c004000012503001c0001dc00690000045e010004000000000000000000000564000104000360000000040001a304000800012508000c0001a30c00100001251000140001a314001800012518001c0001a31c00200001222000240001a324002800012528002c0001a32c00300001223000340001a334003800012538003c0001a33c004000012505001c000f0a006400f4010a000004000000000000000000000000000000000270000000040002141b0400080002141b08000c0002141b0c00100002141b1000140002141b1400180002141b18001c0002141b1c00200002141b2000240002141b2400280002141b28002c0002141b2c00300002141b3000340002141b3400380002141b38003c0002141b3c00400002141b07001c00020a006400f4016400000400000000000000000000000000000000030e00000020000220272000400002202709010e02026400000403780000040a000301000000640001c80000040100000000640001640000040100000000fa0004af00000401c80000040a00019600000414000501006400140005010000002c0104dc00000401fa0000040a0001c8000004140005d0076400140005d0070000c800029001f40105c201f4010a0005900114001400039001000005c201f4010500058403050032000584030000fa00049001000005c201f4010500058403c80032000584030500640005840300009001049001000005c201f4010500058403c80064000584030500c8000584030000f40105ac0d000404a00f00000a0004ac0d2003010004a00f0000280004ac0d9001010004a00f0000280002d00700040408070f0064000408070000c80003c800c8000e7d00c80019000e64000f0032000e78000000fa00032c01c8000ee100c80019000ec8000f0032000edc000000fa0003f401c8000ea901c80019000e90010f0032000ea4010000fa0001c8000004014b000000c800012c01000401c8000000c8000190010004012c010000c80002c800000404c8000f0064000496000000c80002c2010004045e010f006400042c010000640002c409000404c4096400960004f6090000f40102b80b000404b80b64002c0104f40b0000f401022003000004200300040a000420030000ea01029001000004900100040a000490010000900102d007000410d0076400960010d0070000c80030000400050001040c000d0001041400150001041c001d0001042400250001042c002d0001043400350001043c003d000104
                """)),
            music.PlaybackMode.UNTIL_DONE)
    Cold_Hearted_Pale_Hail_Forest()
projectile: Sprite = None
Jumpossibility = False
Pinecone2: Sprite = None
OilHealth: StatusBarSprite = None
OilSwordsmanNPC: Sprite = None
OilHitbox: Sprite = None
PlayerHealth: StatusBarSprite = None
PlayerHitbox: Sprite = None
Aquifer: Sprite = None
lvl = 0
lvl = 0
LevelSetup()

def on_on_update():
    for Aquifer2 in sprites.all_of_kind(SpriteKind.Image):
        characterAnimations.loop_frames(Aquifer2,
            assets.animation("""
                Idle Leftt Aquifer
                """),
            95,
            characterAnimations.rule(Predicate.NOT_MOVING, Predicate.FACING_LEFT))
        characterAnimations.loop_frames(Aquifer2,
            assets.animation("""
                Move Left Aquifer
                """),
            85,
            characterAnimations.rule(Predicate.MOVING_LEFT))
        characterAnimations.loop_frames(Aquifer2,
            assets.animation("""
                Idle Right Aquifer
                """),
            95,
            characterAnimations.rule(Predicate.NOT_MOVING))
        characterAnimations.loop_frames(Aquifer2,
            assets.animation("""
                Move Right  Aquifer
                """),
            85,
            characterAnimations.rule(Predicate.MOVING_RIGHT))
        characterAnimations.loop_frames(Aquifer2,
            assets.animation("""
                Jump Aquifer Right
                """),
            30,
            characterAnimations.rule(Predicate.MOVING_UP, Predicate.MOVING_RIGHT))
        characterAnimations.loop_frames(Aquifer2,
            assets.animation("""
                Jump Aquifer Right
                """),
            30,
            characterAnimations.rule(Predicate.MOVING_UP, Predicate.FACING_RIGHT))
        characterAnimations.loop_frames(Aquifer2,
            assets.animation("""
                Jump Aquifer Left
                """),
            30,
            characterAnimations.rule(Predicate.MOVING_UP, Predicate.MOVING_LEFT))
        characterAnimations.loop_frames(Aquifer2,
            assets.animation("""
                Jump Aquifer Left
                """),
            30,
            characterAnimations.rule(Predicate.MOVING_UP, Predicate.FACING_LEFT))
        characterAnimations.loop_frames(Aquifer2,
            assets.animation("""
                Fall down aquifer
                """),
            50,
            characterAnimations.rule(Predicate.MOVING_DOWN, Predicate.FACING_RIGHT))
        characterAnimations.loop_frames(Aquifer2,
            assets.animation("""
                Fall down aquifer left
                """),
            50,
            characterAnimations.rule(Predicate.MOVING_DOWN, Predicate.FACING_LEFT))
game.on_update(on_on_update)

def on_on_update2():
    for OilSwordsmanNPC2 in sprites.all_of_kind(SpriteKind.enemy):
        characterAnimations.loop_frames(OilSwordsmanNPC2,
            assets.animation("""
                Idle Left Oil Swordsman
                """),
            95,
            characterAnimations.rule(Predicate.NOT_MOVING, Predicate.FACING_LEFT))
        characterAnimations.loop_frames(OilSwordsmanNPC2,
            assets.animation("""
                Oil Swordsman Run Left
                """),
            85,
            characterAnimations.rule(Predicate.MOVING_LEFT))
        characterAnimations.loop_frames(OilSwordsmanNPC2,
            assets.animation("""
                Idle Right Oil Swordsman
                """),
            95,
            characterAnimations.rule(Predicate.NOT_MOVING))
        characterAnimations.loop_frames(OilSwordsmanNPC2,
            assets.animation("""
                Oil Swordsman Run Right
                """),
            85,
            characterAnimations.rule(Predicate.MOVING_RIGHT))
        characterAnimations.loop_frames(OilSwordsmanNPC2,
            assets.animation("""
                Jump oil Right
                """),
            60,
            characterAnimations.rule(Predicate.MOVING_UP, Predicate.MOVING_RIGHT))
        characterAnimations.loop_frames(OilSwordsmanNPC2,
            assets.animation("""
                Jump oil Right
                """),
            60,
            characterAnimations.rule(Predicate.MOVING_UP, Predicate.FACING_RIGHT))
        characterAnimations.loop_frames(OilSwordsmanNPC2,
            assets.animation("""
                Jump oil Right0
                """),
            60,
            characterAnimations.rule(Predicate.MOVING_UP, Predicate.MOVING_LEFT))
        characterAnimations.loop_frames(OilSwordsmanNPC2,
            assets.animation("""
                Jump oil Right0
                """),
            60,
            characterAnimations.rule(Predicate.MOVING_UP, Predicate.FACING_LEFT))
        characterAnimations.loop_frames(OilSwordsmanNPC2,
            assets.animation("""
                Fall down oilswordsman right
                """),
            50,
            characterAnimations.rule(Predicate.MOVING_DOWN, Predicate.FACING_RIGHT))
        characterAnimations.loop_frames(OilSwordsmanNPC2,
            assets.animation("""
                Fall down oil swordsman left
                """),
            50,
            characterAnimations.rule(Predicate.MOVING_DOWN, Predicate.FACING_LEFT))
game.on_update(on_on_update2)

def on_on_update3():
    Aquifer.set_position(PlayerHitbox.x, PlayerHitbox.y)
game.on_update(on_on_update3)

def on_on_update4():
    for Value2 in sprites.all_of_kind(SpriteKind.EnemyHitbox):
        sprites.read_data_sprite(Value2, "image").set_position(Value2.x, Value2.y)
game.on_update(on_on_update4)

def on_on_update5():
    for OilHitbox2 in sprites.all_of_kind(SpriteKind.EnemyHitbox):
        if OilHitbox2.is_hitting_tile(CollisionDirection.BOTTOM):
            if OilHitbox2.is_hitting_tile(CollisionDirection.LEFT):
                basics.make_sprite_jump(OilHitbox2, 190)
                
                def on_after4():
                    if Math.percent_chance(50):
                        OilHitbox2.vx = -100
                    else:
                        OilHitbox2.vx = 100
                timer.after(randint(100, 800), on_after4)
                
            elif OilHitbox2.is_hitting_tile(CollisionDirection.RIGHT):
                basics.make_sprite_jump(OilHitbox2, 190)
                
                def on_after5():
                    if Math.percent_chance(50):
                        OilHitbox2.vx = 100
                    else:
                        OilHitbox2.vx = -100
                timer.after(randint(100, 800), on_after5)
                
game.on_update(on_on_update5)

def on_on_update6():
    global Jumpossibility
    if PlayerHitbox.is_hitting_tile(CollisionDirection.BOTTOM):
        Jumpossibility = True
    else:
        Jumpossibility = False
game.on_update(on_on_update6)

def on_update_interval():
    global projectile
    for index5 in range(randint(1, 5)):
        projectile = sprites.create_projectile_from_side(assets.image("""
            Hail
            """), 0, 45)
        projectile.scale = 0.5
        projectile.x = PlayerHitbox.x + randint(-80, 80)
game.on_update_interval(randint(1000, 3500), on_update_interval)

def on_update_interval2():
    for OilHitbox3 in sprites.all_of_kind(SpriteKind.EnemyHitbox):
        if Math.percent_chance(50):
            OilHitbox3.vx = 100
        elif Math.percent_chance(50):
            OilHitbox3.vx = -100
        else:
            pass
game.on_update_interval(1000, on_update_interval2)
